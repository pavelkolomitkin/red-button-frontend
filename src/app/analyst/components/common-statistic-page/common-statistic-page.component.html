<app-analyst-common-layout>
    <div class="box box-primary" *ngIf="!!statistics">
        <div class="box-body">
            <app-analyst-statistic-filter
                    [currentYear]="selectedYear"
                    [endYear]="endYear"
                    [startYear]="startYear"
                    [federalDistrictId]="federalDistrictId"
            ></app-analyst-statistic-filter>
        </div>

        <div class="box-body">

            <div class="row">

                <div class="col-md-8">
                    <ng-container *ngIf="!!federalDistrictId">
                        <app-analyst-federal-district-map
                                [statistics]="statistics.byRegions"
                                [districtId]="federalDistrictId"
                                (onRegionSelect)="onRegionSelectHandler($event)"
                        ></app-analyst-federal-district-map>
                    </ng-container>
                    <ng-container *ngIf="!federalDistrictId">
                        <app-analyst-country-map
                                [statistic]="statistics.byFederalDistricts"
                                (onDistrictSelect)="onDistrictSelectHandler($event)"
                        ></app-analyst-country-map>
                    </ng-container>
                </div>
                <div class="col-sm-4">
                    <app-analyst-service-types-statistics [data]="statistics.common"></app-analyst-service-types-statistics>
                </div>

            </div>

        </div>

        <div class="box-body">
            <div class="row">
                <div class="col-md-6">
                    <div>
                        <app-analyst-service-type-shares-chart [title]="'Common Numbers'" [data]="statistics.common"></app-analyst-service-type-shares-chart>
                    </div>

                </div>
                <div class="col-md-6">
                    <ng-container *ngIf="!!statisticsDynamic">
                        <div>
                            <app-analyst-service-types-dynamic-year [year]="selectedYear" [title]="'Dynamics'" [data]="statisticsDynamic.statistics"></app-analyst-service-types-dynamic-year>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>


        <div class="box-footer">

        </div>
    </div>
</app-analyst-common-layout>